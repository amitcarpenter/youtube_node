<%- include('header') %>
    <link rel="stylesheet" href="css/dashboard/setChannelDetails.css">
    <script src="https://kit.fontawesome.com/yourcode.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <!-- partial -->
    <div class="main-panel">
        <div class="content-wrapper">
            <div class="container">
                <section class="loading">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-md-3">
                                <div>
                                    <img src="./images/thumbnail1.jpg" class="img-fluid">
                                </div>
                            </div>
                            <div class="col-12 col-md-9 loadingg">
                                <h4 class="head_h">
                                    How To Make Portfolio Website Using.

                                    <div class="icons">
                                        <i id="viewsIcon" class="fa fa-eye eye" aria-hidden="true"></i>
                                        <span id="viewsCount">0</span>

                                        <i id="subscribeIcon" class="fas fa-user user"></i>
                                        <span id="subscribeCount">0</span>

                                        <i id="likeIcon" class="fa fa-thumbs-up thumb" aria-hidden="true"></i>
                                        <span id="likeCount">0</span>

                                        <i id="dislikeIcon" class="fa fa-thumbs-down thumb_down" aria-hidden="true"></i>
                                        <span id="dislikeCount">0</span>

                                        <i id="commentIcon" class="fa fa-comment cmment" aria-hidden="true"></i>
                                        <span id="commentCount">0</span>
                                    </div>
                                </h4>
                            </div>
                        </div>
                        <div class="box_progrss">
                            <!-- Progress Bar 1 (Views) -->
                            <div class="prog_hed">
                                <span>Views</span>
                                <div class="progress-text" id="progressText1">0</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar1"></div>
                                <div class="arrow-container">
                                    <div class="arrow" id="arrow1">
                                        <img class="imges" src="https://kingviews.net/Assets/img/view-slider-arrow.png"
                                            alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- Progress Bar 2 (Subscribe) -->
                            <div class="prog_hed">
                                <span>Subscribe</span>
                                <div class="progress-text" id="progressText2">0 </div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar2"></div>
                                <div class="arrow-container">
                                    <div class="arrow" id="arrow2">
                                        <img class="imges" src="https://kingviews.net/Assets/img/view-slider-arrow.png"
                                            alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- Progress Bar 3 (Like) -->
                            <div class="prog_hed">
                                <span>Likes</span>
                                <div class="progress-text" id="progressText3">0</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar3"></div>
                                <div class="arrow-container">
                                    <div class="arrow" id="arrow3">
                                        <img class="imges" src="https://kingviews.net/Assets/img/view-slider-arrow.png"
                                            alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- Progress Bar 4 (Dislike) -->
                            <div class="prog_hed">
                                <span>Dislike</span>
                                <div class="progress-text" id="progressText4">0</div>
                            </div>
                            <!-- <div class="prog_heDisliked">
                                        <span>Dislike</span>
                                        <div class="progress-text" id="progressText4">0</div>
                                    </div> -->
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar4"></div>
                                <div class="arrow-container">
                                    <div class="arrow" id="arrow4">
                                        <img class="imges" src="https://kingviews.net/Assets/img/view-slider-arrow.png"
                                            alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- Progress Bar 5 (Comment) -->
                            <div class="prog_hed">
                                <span>Comment</span>
                                <div class="progress-text" id="progressText5">0</div>
                            </div>
                            <!-- <div class="prog_heDisliked">
                                        <span>Comment</span>
                                        <div class="progress-text" id="progressText5">0</div>
                                    </div> -->
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar5"></div>
                                <div class="arrow-container">
                                    <div class="arrow" id="arrow5">
                                        <img class="imges" src="https://kingviews.net/Assets/img/view-slider-arrow.png"
                                            alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <!-- content-wrapper ends -->

        <script>
            // JavaScript code
            const arrowContainers = document.querySelectorAll('.arrow-container');
            const progressBars = document.querySelectorAll('.progress-bar');
            const progressTexts = document.querySelectorAll('.progress-text');
            const icons = {
                views: {
                    icon: document.getElementById('viewsIcon'),
                    count: document.getElementById('viewsCount'),
                },
                subscribe: {
                    icon: document.getElementById('subscribeIcon'),
                    count: document.getElementById('subscribeCount'),
                },
                like: {
                    icon: document.getElementById('likeIcon'),
                    count: document.getElementById('likeCount'),
                },
                dislike: {
                    icon: document.getElementById('dislikeIcon'),
                    count: document.getElementById('dislikeCount'),
                },
                comment: {
                    icon: document.getElementById('commentIcon'),
                    count: document.getElementById('commentCount'),
                },
            };

            arrowContainers.forEach((arrowContainer, index) => {
                const arrow = arrowContainer.querySelector('.arrow');
                const progressBar = progressBars[index];
                const progressText = progressTexts[index];

                arrow.addEventListener('mousedown', startDrag);
                arrow.addEventListener('touchstart', startDrag); // For mobile touch events

                function startDrag(event) {
                    event.preventDefault();
                    document.addEventListener('mousemove', drag);
                    document.addEventListener('mouseup', stopDrag);
                    document.addEventListener('touchmove', drag);
                    document.addEventListener('touchend', stopDrag);
                }

                function drag(event) {
                    const containerRect = arrowContainer.getBoundingClientRect();
                    const mouseX = event.clientX || event.touches[0].clientX;
                    let percentage = (mouseX - containerRect.left) / containerRect.width * 100;
                    percentage = Math.max(0, Math.min(100, percentage));

                    updateProgressBar(percentage);
                    updateIcon(percentage);
                }

                function stopDrag() {
                    document.removeEventListener('mousemove', drag);
                    document.removeEventListener('mouseup', stopDrag);
                    document.removeEventListener('touchmove', drag);
                    document.removeEventListener('touchend', stopDrag);
                }

                function updateProgressBar(percentage) {
                    progressBar.style.width = percentage + '%';
                    arrow.style.left = percentage + '%';
                    progressText.innerText = Math.round(percentage) + '';
                }

                function updateIcon(percentage) {
                    const currentIcon = icons[Object.keys(icons)[index]];
                    currentIcon.icon.nextElementSibling.innerText = Math.round(percentage) + '';
                }

                updateIcon(0);
            });
        </script>


        <%- include('footer') %>